``` yaml
---
# This module supports the following states:
#
# Merged:
#   Switches defined in the playbook will be merged into the target fabric.
#     - If the switch does not exist it will be added.
#     - Switches that are not specified in the playbook will be untouched.
#
# Overridden:
#   The playbook will serve as source of truth for the target fabric.
#     - If the switch does not exist it will be added.
#     - If the switch is not defined in the playbook but exists in DCNM it will be removed.
#     - If the switch exists, properties that need to be modified and can be modified will be modified.
#
# Deleted:
#   Deletes the list of switches specified in the playbook.
#   If no switches are provided in the playbook, all the switches present on that DCNM fabric will be deleted.
#
# Query:
#   Returns the current DCNM state for the switches listed in the playbook.


# The following two switches will be merged into the existing fabric
- name: Merge switch into fabric
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: merged # merged / deleted / overridden / query
    config:
    - seed_ip: 192.168.0.1
      auth_proto: MD5 # choose from [MD5, SHA, MD5_DES, MD5_AES, SHA_DES, SHA_AES]
      user_name: switch_username
      password: switch_password
      max_hops: 0
      role: spine
      preserve_config: False # boolean, default is  true
    - seed_ip: 192.168.0.2
      auth_proto: MD5 # choose from [MD5, SHA, MD5_DES, MD5_AES, SHA_DES, SHA_AES]
      user_name: switch_username
      password: switch_password
      max_hops: 0
      role: leaf
      preserve_config: False # boolean, default is true

# The following two switches will be added or updated in the existing fabric and all other
# switches will be removed from the fabric
- name: Override Switch
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: overridden # merged / deleted / overridden / query
    config:
    - seed_ip: 192.168.0.1
      auth_proto: MD5 # choose from [MD5, SHA, MD5_DES, MD5_AES, SHA_DES, SHA_AES]
      user_name: switch_username
      password: switch_password
      max_hops: 0
      role: spine
      preserve_config: False # boolean, default is  true
    - seed_ip: 192.168.0.2
      auth_proto: MD5 # choose from [MD5, SHA, MD5_DES, MD5_AES, SHA_DES, SHA_AES]
      user_name: switch_username
      password: switch_password
      max_hops: 0
      role: leaf
      preserve_config: False # boolean, default is true

# The following two switches will be deleted in the existing fabric
- name: Delete selected switches
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: deleted # merged / deleted / overridden / query
    config:
    - seed_ip: 192.168.0.1
    - seed_ip: 192.168.0.2

# All the switches will be deleted in the existing fabric
- name: Delete all the switches
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: deleted # merged / deleted / overridden / query

# The following two switches information will be queried in the existing fabric
- name: Query switch into fabric
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: query # merged / deleted / overridden / query
    config:
    - seed_ip: 192.168.0.1
      role: spine
    - seed_ip: 192.168.0.2
      role: leaf

# All the existing switches will be queried in the existing fabric
- name: Query all the switches in the fabric
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: query # merged / deleted / overridden / query

# The following task will enable Bootstrap and DHCP on an existing fabric.
# Please note that only bootstrap and DHCP configs are present in the below example.
# You have to add other existing fabric configs to the task.
- name: Bootstrap and DHCP Configuration
  cisco.dcnm.dcnm_rest:
    method: PUT
    path: /appcenter/cisco/ndfc/api/v1/lan-fabric/rest/control/fabrics/vxlan-fabric
    json_data: '{"fabricId": "FABRIC-7","fabricName": "vxlan-fabric","id": 7,"nvPairs":{...,"BOOTSTRAP_ENABLE": true,"DHCP_ENABLE": true,"DHCP_IPV6_ENABLE": "DHCPv4","DHCP_START": "192.168.1.10", "DHCP_END": "192.168.1.20","MGMT_GW": "192.168.123.1","MGMT_PREFIX": "24",...},"templateName": "Easy_Fabric"}' # noqa

# The following switch will be Bootstrapped and merged into the existing fabric
- name: Poap switch Configuration
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: merged # Only 2 options supported merged/query for poap config
    config:
    # All the values below are mandatory if poap configuration is being done - state is merged
    - seed_ip: 192.168.0.5
      user_name: switch_username
      password: switch_password
      role: border_gateway
      poap:
        - serial_number: 2A3BCDEFJKL
          model: 'N9K-C9300v'
          version: '9.3(7)'
          hostname: 'POAP_SWITCH'
          image_policy: "poap_image_policy"
          config_data:
            modulesModel: [N9K-X9364v, N9K-vSUP]
            gateway: 192.168.0.1/24

# The following switch will be Pre-provisioned and merged into the existing fabric
- name: Pre-provision switch Configuration
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: merged # Only 2 options supported merged/query for poap config
    config:
    # All the values below are mandatory if poap configuration is being done - state is merged
    - seed_ip: 192.168.0.4
      user_name: switch_username
      password: switch_password
      role: border
      poap:
        - preprovision_serial: 1A2BCDEFGHI
          model: 'N9K-C9300v'
          version: '9.3(7)'
          hostname: 'PREPRO_SWITCH'
          image_policy: "prepro_image_policy"
          config_data:
            modulesModel: [N9K-X9364v, N9K-vSUP]
            gateway: 192.168.0.1/24

- name: Poap, Pre-provision and existing switch Configuration
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: merged # Only 2 options supported merged/query for poap config
    config:
    - seed_ip: 192.168.0.2
      user_name: switch_username
      password: switch_password
      role: border_gateway
      poap:
        - serial_number: 2A3BCDEFGHI
          model: 'N9K-C9300v'
          version: '9.3(7)'
          hostname: 'POAP_SWITCH'
          image_policy: "poap_image_policy"
          config_data:
            modulesModel: [N9K-X9364v, N9K-vSUP]
            gateway: 192.168.0.1/24
    - seed_ip: 192.168.0.3
      user_name: switch_username
      password: switch_password
      auth_proto: MD5
      max_hops: 0
      preserve_config: False
      role: spine
    - seed_ip: 192.168.0.4
      user_name: switch_username
      password: switch_password
      role: border
      poap:
        - preprovision_serial: 1A2BCDEFGHI
          model: 'N9K-C9300v'
          version: '9.3(7)'
          hostname: 'PREPRO_SWITCH'
          image_policy: "prepro_image_policy"
          config_data:
            modulesModel: [N9K-X9364v, N9K-vSUP]
            gateway: 192.168.0.1/24

# The following pre-provisioned switch will be swapped with actual switch in the existing fabric
# No Need to provide any other parameters for swap operation as bootstrap will inherit the preprovision configs
# If other parameters are provided it will be overidden with preprovision switch configs
# This swap feature is supported only in NDFC and not on DCNM 11.x versions
- name: Pre-provision switch Configuration
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: merged # Only 2 options supported merged/query for poap config
    config:
    # All the values below are mandatory if poap configuration is being done - state is merged
    - seed_ip: 192.168.0.4
      user_name: switch_username
      password: switch_password
      role: border
      poap:
        - preprovision_serial: 1A2BCDEFGHI
          serial_number: 2A3BCDEFGHI

# All the existing switches along with available Bootstrap(POAP)
# will be queried in the existing fabric
- name: Query all the switches in the fabric
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: query # merged / query
    query_poap: True

# The following switch which is part of fabric will be replaced with a new switch
# with same configurations through RMA.
# Please note that the existing switch should be configured in maintenance mode and in shutdown state
- name: RMA switch Configuration
  cisco.dcnm.dcnm_inventory:
    fabric: vxlan-fabric
    state: merged # Only merged is supported for rma config
    config:
    - seed_ip: 192.168.0.4
      user_name: switch_username
      password: switch_password
      rma:
        - serial_number: 2A3BCDEFJKL
          old_serial: 2A3BCDEFGHI
          model: 'N9K-C9300v'
          version: '9.3(7)'
          image_policy: "rma_image_policy"
          config_data:
            modulesModel: [N9K-X9364v, N9K-vSUP]
            gateway: 192.168.0.1/24
```
